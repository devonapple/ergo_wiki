_Draft submitted 9/11/2019_

# Using the wallet for the first time by initializing it from scratch

Initialize a new wallet via the ReST API when running the node for the first time (a mnemonic phrase seed will be generated by the node). *Don’t forget to save the mnemonic phrase that the node responds with.*

## URL
~~~
POST https://ergoplatform.org/wallet/init
~~~


## Headers
| Header Name | Description | Required | Values |
| --- | --- | --- | --- |
| Content-Type | The format of the request | Required | application/json |
| Accept | The format for the data to return | Required | application/json |

## POST Body
| Element | Description | Type | Required | Notes |
| --- | --- | --- | --- | --- |
| pass | Password used to encrypt wallet file | string | yes | |
| mnemonicPass | Optional password to password-protect mnemonic seed | string | no | **Note:** The parameter `mnemonicPass` in the request body is optional and is used for protecting the mnemonic phrase |

### Sample Request
~~~
POST https://ergoplatform.org/wallet/init?pass=123&mnemonicPass=abc

Content-Type: application/json
Accept: application/json

{
 "pass": "string",
 "mnemonicPass": "string"
}
~~~

### Response
| Element | Description | Type | Notes |
| --- | --- | --- | --- |
| mnemonic | Mnemonic seed phrase | string | Don’t forget to save the mnemonic phrase that the node responds with. |

### Sample Response
~~~
{
 "mnemonic": "string"
}
~~~

### Status Codes and Errors
| Code | Description | Notes |
| --- | --- | --- |
| 200 | New wallet with randomly generated seed created successfully | Returns `mnemonic` string |
| 404 | Error: Not Found | |
| 500 | Error | Internal server error; default response |


# Creating a new wallet from an existing mnemonic seed

Initialize a new wallet from an existing mnemonic seed via the ReST API when running the node for the first time. *Don’t forget to save the mnemonic phrase that the node responds with.*


## URL
~~~
POST https://ergoplatform.org/wallet/restore
~~~

## Headers
| Header Name | Description | Required | Values |
| --- | --- | --- | --- |
| Content-Type | The format of the request | Required | application/json |
| Accept | The format for the data to return | Required | application/json |

## POST Body
| Element | Description | Type | Required | Notes |
| --- | --- | --- | --- | --- |
| pass | Password used to encrypt wallet file | string | yes | |
| mnemonic | Mnemonic seed | string | yes | |
| mnemonicPass | Optional password to password-protect mnemonic seed | string | no | **Note:** the `mnemonicPass` field is required only in case your mnemonic phrase was protected by an additional password at creation |



### Sample Request
~~~
POST https://ergoplatform.org/wallet/restore?pass=123&mnemonic=abandonabandon&mnemonicPass=abc

Content-Type: application/json
Accept: application/json

{
 "pass": "string",
 "mnemonic": "string",
 "mnemonicPass": "string"
}
~~~

### Status Codes and Errors
| Code | Description | Notes |
| --- | --- | --- |
| 200 | Wallet restored successfully | |
| 500 | Error | Internal server error; default response |


# Unlocking the wallet

You must unlock the wallet after initialization and before every use. You must perform this step every time the node is restarted or the wallet is locked. In particular, the wallet must be unlocked for the following operations:

* Using internal miner
* Signing transactions
* Tracking boxes

## URL
~~~
POST https://ergoplatform.org/wallet/unlock
~~~

## Headers
| Header Name | Description | Required | Values |
| --- | --- | --- | --- |
| Content-Type | The format of the request | Required | application/json |
| Accept | The format for the data to return | Required | application/json |

## POST Body
| Element | Description | Type | Required | Notes |
| --- | --- | --- | --- | --- |
| pass | Password used to encrypt wallet file | string | yes | Use the password you had chosen at the initialization stage. |


### Sample Request
~~~
POST https://ergoplatform.org/wallet/unlock?pass=123

Content-Type: application/json
Accept: application/json

{
 "pass": "string"
}
~~~

### Status Codes and Errors
| Code | Description | Notes |
| --- | --- | --- |
| 200 | Wallet unlocked successfully | |
| 500 | Error | Internal server error; default response |


# Locking the wallet

A wallet is automatically locked after some time, which means that all currently loaded secrets are flushed from the memory. It is recommended that you lock the wallet when it is not in use. After locking, you will need to unlock the wallet to use it again.

## URL
~~~
GET https://ergoplatform.org/wallet/lock
~~~

## Query Parameters
 | Parameter | Description | Type | Required | Notes |
 | --- | --- | --- | --- | --- |
| pass | Password used to encrypt wallet file | string | yes | Use the password you had chosen at the initialization stage. |

## Headers
| Header Name | Description | Required | Values |
| --- | --- | --- | --- |
| Content-Type | The format of the request | Required | application/json |
| Accept | The format for the data to return | Required | application/json |

### Sample Request
~~~
GET https://ergoplatform.org/wallet/lock?pass=123

Content-Type: application/json
Accept: application/json

{
 "pass": "string"
}
~~~

### Status Codes and Errors
| Code | Description | Notes |
| --- | --- | --- |
| 200 | Wallet locked successfully | |
| 500 | Error | Internal server error; default response |
